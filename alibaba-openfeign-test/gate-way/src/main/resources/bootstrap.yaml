server:
  port: 8086
spring:
  application:
    name: @artifactId@
  cloud:
    nacos:
      discovery:
        #nacos服务器注册地址
        server-addr: @config.server-addr@
      #配置文件中心地址
      config:
        server-addr: @config.server-addr@
        group: @config.group@
        file-extension: yaml
        #额外再读取多个配置文件
        shared-configs:
          - data-id : application-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension}
            refresh: true
    gateway:
      discovery:
        locator:
          #允许通过注册中心获取地址调用
          enabled: true
      #路由策略
      routes:
        #路由id
        - id: member-server
          #转发地址
          uri: lb://member-server
          filters:
            - StripPrefix=1
          #匹配规则
          predicates:
            - Path=/member/**
        #路由id
        - id: order-server
          #转发地址
          uri: lb://order-server
          filters:
            - StripPrefix=1
          #匹配规则
          predicates:
            - Path=/order/**
  #设置配置文件环境切换
  profiles:
    active: @profile.name@


## 启动输出nacos配置文件
logging:
  level:
    com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder: debug